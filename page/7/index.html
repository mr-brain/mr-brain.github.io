<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="google-site-verification" content="dOYdAhQf3e0cENjlDUSq-BI2mNhX7mbvohGZX6GVNo4" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"mr-brain.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Elegance C#">
<meta property="og:url" content="http://mr-brain.github.io/page/7/index.html">
<meta property="og:site_name" content="Elegance C#">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Mr-Brain">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://mr-brain.github.io/page/7/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Elegance C#</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-51528307-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-51528307-1');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Elegance C#</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://mr-brain.github.io/2014/06/01/2014/06/log-all-methods-using-autofac-interceptor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/mr-brain.png">
      <meta itemprop="name" content="Mr-Brain">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Elegance C#">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/06/01/2014/06/log-all-methods-using-autofac-interceptor/" class="post-title-link" itemprop="url">log all methods using AutoFac interceptor</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-06-01 08:00:00" itemprop="dateCreated datePublished" datetime="2014-06-01T08:00:00+08:00">2014-06-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-05 18:41:20" itemprop="dateModified" datetime="2020-09-05T18:41:20+08:00">2020-09-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Add references to:</p>
<ul>
<li>Autofac.dll (v3.1.1)</li>
<li>Autofac.Extras.DynamicProxy2.dll (v3.0.2)</li>
<li>Castle.Core.dll (Castle.Core 3.2.0 for .NETFramework v4.0 Client Profile)</li>
</ul>
<p>#Create Interceptors#<br>Interceptors implement the Castle.DynamicProxy.IInterceptor interface. Here’s a simple interceptor example that logs method calls including inputs and outputs:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class LoggerClass : IInterceptor</span><br><span class="line">&#123;</span><br><span class="line">	public void Intercept(IInvocation invocation)</span><br><span class="line">	&#123;</span><br><span class="line">		Console.WriteLine(&quot;Calling method &#123;0&#125; with parameters &#123;1&#125;... &quot;,</span><br><span class="line">			invocation.Method.Name,</span><br><span class="line">			string.Join(&quot;, &quot;, invocation.Arguments.Select(a &#x3D;&gt; (a ?? &quot;&quot;).ToString()).ToArray()));</span><br><span class="line"></span><br><span class="line">		invocation.Proceed();</span><br><span class="line"></span><br><span class="line">		Console.WriteLine(&quot;Done: result was &#123;0&#125;.&quot;, invocation.ReturnValue);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#Register Interceptors with Autofac#<br>Interceptors must be registered with the container. You can register them either as typed services or as named services. If you register them as named services, they must be named IInterceptor registrations.</p>
<p>Which of these you choose depends on how you decide to associate interceptors with the types being intercepted.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Named registration</span><br><span class="line">builder.Register(c &#x3D;&gt; new LoggerClass())</span><br><span class="line">       .Named&lt;IInterceptor&gt;(&quot;log-calls&quot;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Typed registration</span><br><span class="line">builder.Register(c &#x3D;&gt; new LoggerClass());</span><br></pre></td></tr></table></figure>

<p>#Enable Interception on Types#<br>When you register a type being intercepted, you have to mark the type at registration time so Autofac knows to wire up that interception. You do this using the EnableInterfaceInterceptors() and EnableClassInterceptors() registration extensions.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ContainerBuilder cb &#x3D; new ContainerBuilder();</span><br><span class="line">cb.RegisterType&lt;SomeType&gt;()</span><br><span class="line">	 .As&lt;ISomeInterface&gt;()</span><br><span class="line">	 .EnableInterfaceInterceptors()</span><br><span class="line">	 .InterceptedBy(typeof(LoggerClass));</span><br><span class="line">cb.Register(c &#x3D;&gt; new LoggerClass());</span><br></pre></td></tr></table></figure>

<p>Under the covers, EnableInterfaceInterceptors() creates an interface proxy that performs the interception, while EnableClassInterceptors() dynamically subclasses the target component to perform interception of virtual methods.</p>
<p>Both techniques can be used in conjunction with the assembly scanning support, so you can configure batches of components using the same methods.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://mr-brain.github.io/2014/06/01/2014/06/how-to-deploy-files-for-unit-test-project/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/mr-brain.png">
      <meta itemprop="name" content="Mr-Brain">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Elegance C#">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/06/01/2014/06/how-to-deploy-files-for-unit-test-project/" class="post-title-link" itemprop="url">How to deploy files for VS.NET Unit Test Project</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-06-01 08:00:00" itemprop="dateCreated datePublished" datetime="2014-06-01T08:00:00+08:00">2014-06-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-05 18:42:03" itemprop="dateModified" datetime="2020-09-05T18:42:03+08:00">2020-09-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Here’s the easiest way to accomplish deploying folders to the TestResults folder:</p>
<ol>
<li>Right click on the .testrunconfig file in your solution explorer. For me, its LocalTestRun.testrunconfig.</li>
<li>Select Open With and select XML editor</li>
<li>Add a deployment item, specifying the relative path as the file name and an outputdirectory value of the directory name. In my example, I want to deploy everything in the configuration directory to a folder called configuration in the testrun folder, so I’ve added the following entry:</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Deployment</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">DeploymentItem</span> <span class="attr">filename</span>=<span class="string">&quot;Services\Identity\Claim\ClaimService.Test\configuration\&quot;</span> <span class="attr">outputDirectory</span>=<span class="string">&quot;configuration\&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">DeploymentItem</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Deployment</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Now when my tests execution, Visual Studio copies over all my configuration file entries and is able to load the app.config file successfully.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://mr-brain.github.io/2014/06/01/2014/06/nullreferenceexception-unexplained-error-in-aspnet-mvc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/mr-brain.png">
      <meta itemprop="name" content="Mr-Brain">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Elegance C#">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/06/01/2014/06/nullreferenceexception-unexplained-error-in-aspnet-mvc/" class="post-title-link" itemprop="url">NullReferenceException unexplained error in ASP.NET MVC</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-06-01 08:00:00" itemprop="dateCreated datePublished" datetime="2014-06-01T08:00:00+08:00">2014-06-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-05 18:41:07" itemprop="dateModified" datetime="2020-09-05T18:41:07+08:00">2020-09-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[NullReferenceException: Object reference not set to an instance of an object.]</span><br><span class="line">   System.Web.Mvc.&lt;ConvertResults&gt;d__2.MoveNext() +105</span><br><span class="line">   System.Web.Mvc.&lt;Validate&gt;d__1.MoveNext() +1050  System.Web.Mvc.DefaultModelBinder.OnModelUpdated(ControllerContext controllerContext, ModelBindingContext bindingContext) +404</span><br></pre></td></tr></table></figure>

<p>Please check your <em>Validate</em> function code in <strong><em>xxx</em>Model</strong> (inherited <em>IValidatableObject</em>). <font color='red'>You should not return null value.</font></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public IEnumerable&lt;ValidationResult&gt; Validate(ValidationContext validationContext)</span><br><span class="line">&#123;</span><br><span class="line">  return null;   &#x2F;&#x2F; this is error code</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://mr-brain.github.io/2014/06/01/2014/06/select-distinct-using-linq/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/mr-brain.png">
      <meta itemprop="name" content="Mr-Brain">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Elegance C#">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/06/01/2014/06/select-distinct-using-linq/" class="post-title-link" itemprop="url">Select distinct using linq</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-06-01 08:00:00" itemprop="dateCreated datePublished" datetime="2014-06-01T08:00:00+08:00">2014-06-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-05 18:40:53" itemprop="dateModified" datetime="2020-09-05T18:40:53+08:00">2020-09-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Using <a target="_blank" rel="noopener" href="https://code.google.com/p/morelinq/">morelinq</a> you can use DistinctBy:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myList.DistinctBy(x &#x3D;&gt; x.id);</span><br></pre></td></tr></table></figure>

<p>Otherwise, you can use a group:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">myList.GroupBy(x &#x3D;&gt; x.id)</span><br><span class="line">	.Select(g &#x3D;&gt; g.First());</span><br></pre></td></tr></table></figure>

<p>Or you can use linq syntax</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">distinctData &#x3D; from tb1 in myList</span><br><span class="line">	group tb1 by tb1.id into g</span><br><span class="line">	select g.First();</span><br></pre></td></tr></table></figure>

<p>You can create custom extension method:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public static class EnumerableExtender</span><br><span class="line">&#123;</span><br><span class="line">	public static IEnumerable&lt;TSource&gt; DistinctBy&lt;TSource, TKey&gt;(this IEnumerable&lt;TSource&gt; source, Func&lt;TSource, TKey&gt; keySelector)</span><br><span class="line">	&#123;</span><br><span class="line">		HashSet&lt;TKey&gt; seenKeys &#x3D; new HashSet&lt;TKey&gt;();</span><br><span class="line">		foreach (TSource element in source)</span><br><span class="line">		&#123;</span><br><span class="line">			var elementValue &#x3D; keySelector(element);</span><br><span class="line">			if (seenKeys.Add(elementValue))</span><br><span class="line">			&#123;</span><br><span class="line">				yield return element;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Would be better to write a lot of use.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">distinctDatas &#x3D; myList.DistinctBy(person &#x3D;&gt; person.Name);</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://mr-brain.github.io/2014/06/01/2014/06/unit-testing-aspnet-web-site-project-code-stored-in-app_code/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/mr-brain.png">
      <meta itemprop="name" content="Mr-Brain">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Elegance C#">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/06/01/2014/06/unit-testing-aspnet-web-site-project-code-stored-in-app_code/" class="post-title-link" itemprop="url">Unit Testing ASP.NET Web Site Project code stored in APP_Code</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-06-01 08:00:00" itemprop="dateCreated datePublished" datetime="2014-06-01T08:00:00+08:00">2014-06-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-05 18:40:42" itemprop="dateModified" datetime="2020-09-05T18:40:42+08:00">2020-09-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Here’s a Website.targets file you can include in unit testing solution. It (re)compiles website only when App_Code changes. Just add something in <strong>Test Project</strong> like</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;PropertyGroup&gt;</span><br><span class="line">    &lt;WebsiteName&gt;*MyWebsite*&lt;&#x2F;WebsiteName&gt;</span><br><span class="line">    &lt;WebsitePath&gt;..&lt;&#x2F;WebsitePath&gt;</span><br><span class="line">  &lt;&#x2F;PropertyGroup&gt;</span><br><span class="line">  &lt;Import Project&#x3D;&quot;$(ProjectDir)\Website.targets&quot; &gt;&lt;&#x2F;Import&gt;</span><br><span class="line">  &lt;Target Name&#x3D;&quot;BeforeBuild&quot; DependsOnTargets&#x3D;&quot;CompileWebsite&quot;&gt;</span><br><span class="line">  &lt;&#x2F;Target&gt;</span><br></pre></td></tr></table></figure>

<p>to your .csproj, customizing WebsiteName and WebsitePath and you should be ready to create <strong>Website.targets</strong> file in Test Project Folder:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">    Target that compiles Website&#39;s App_Code to be used for testing</span><br><span class="line">  --&gt;</span><br><span class="line">&lt;Project DefaultTargets&#x3D;&quot;CompileWebsite&quot; ToolsVersion&#x3D;&quot;4.0&quot; xmlns&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;developer&#x2F;msbuild&#x2F;2003&quot;&gt;</span><br><span class="line">  &lt;ItemGroup&gt;</span><br><span class="line">    &lt;AppCodeFiles Include&#x3D;&quot;$(WebsitePath)\$(WebsiteName)\App_Code\**\*.*&quot; &gt;&lt;&#x2F;AppCodeFiles&gt;</span><br><span class="line">  &lt;&#x2F;ItemGroup&gt;</span><br><span class="line">  &lt;Target Name&#x3D;&quot;CompileWebsite&quot; Inputs&#x3D;&quot;@(AppCodeFiles)&quot; Outputs&#x3D;&quot;$(ProjectDir)\PrecompiledWeb\bin\App_Code.dll&quot;&gt;</span><br><span class="line">    &lt;AspNetCompiler VirtualPath&#x3D;&quot;$(WebsiteName)&quot; PhysicalPath&#x3D;&quot;$(WebsitePath)\$(WebsiteName)&quot; TargetPath&#x3D;&quot;$(ProjectDir)\PrecompiledWeb&quot; Force&#x3D;&quot;true&quot; Debug&#x3D;&quot;true&quot; &gt;&lt;&#x2F;AspNetCompiler&gt;</span><br><span class="line">  &lt;&#x2F;Target&gt;</span><br><span class="line">  &lt;Target Name&#x3D;&quot;CleanWebsite&quot;&gt;</span><br><span class="line">    &lt;RemoveDir Directories&#x3D;&quot;$(WebsitePath)\$(WebsiteName)\PrecompiledWeb&quot; &gt;&lt;&#x2F;RemoveDir&gt;</span><br><span class="line">  &lt;&#x2F;Target&gt;</span><br><span class="line">&lt;&#x2F;Project&gt;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://mr-brain.github.io/2014/06/01/2014/06/using-forms-authentication-in-aspnet-mvc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/mr-brain.png">
      <meta itemprop="name" content="Mr-Brain">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Elegance C#">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/06/01/2014/06/using-forms-authentication-in-aspnet-mvc/" class="post-title-link" itemprop="url">Using Forms Authentication in ASP.NET MVC</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-06-01 08:00:00" itemprop="dateCreated datePublished" datetime="2014-06-01T08:00:00+08:00">2014-06-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-05 18:40:31" itemprop="dateModified" datetime="2020-09-05T18:40:31+08:00">2020-09-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>In Web.config</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">  &lt;system.web&gt;</span><br><span class="line">    &lt;authentication mode&#x3D;&quot;Forms&quot;&gt;</span><br><span class="line">      &lt;forms defaultUrl&#x3D;&quot;~&#x2F;Home&#x2F;Index&#x2F;&quot; loginUrl&#x3D;&quot;~&#x2F;Home&#x2F;Login&#x2F;&quot; timeout&#x3D;&quot;30&quot; &gt;&lt;&#x2F;forms&gt;</span><br><span class="line">    &lt;&#x2F;authentication&gt;</span><br><span class="line">    &lt;authorization&gt;</span><br><span class="line">      &lt;deny users&#x3D;&quot;?&quot;&gt;&lt;&#x2F;deny&gt;</span><br><span class="line">    &lt;&#x2F;authorization&gt;</span><br><span class="line">  &lt;&#x2F;system.web&gt;</span><br><span class="line">  &lt;location path&#x3D;&quot;Scripts&quot;&gt;</span><br><span class="line">    &lt;system.web&gt;</span><br><span class="line">	  &lt;authorization&gt;</span><br><span class="line">	    &lt;allow users&#x3D;&quot;*&quot;&gt;&lt;&#x2F;allow&gt;</span><br><span class="line">	  &lt;&#x2F;authorization&gt;</span><br><span class="line">	&lt;&#x2F;system.web&gt;</span><br><span class="line">  &lt;&#x2F;location&gt;</span><br><span class="line">&lt;&#x2F;configuration&gt;</span><br></pre></td></tr></table></figure>

<p>Create LoginViewModel.cs</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public class LoginViewModel : IValidatableObject</span><br><span class="line">&#123;</span><br><span class="line">	[DisplayFormat(ConvertEmptyStringToNull &#x3D; false)]</span><br><span class="line">	public string ReturnUrl &#123; get; set; &#125;</span><br><span class="line"></span><br><span class="line">	[DisplayFormat(ConvertEmptyStringToNull &#x3D; false)]</span><br><span class="line">	[Required]</span><br><span class="line">	public string UserName &#123; get; set; &#125;</span><br><span class="line"></span><br><span class="line">	[DisplayFormat(ConvertEmptyStringToNull &#x3D; false)]</span><br><span class="line">	[Required]</span><br><span class="line">	[DataType(DataType.Password)]</span><br><span class="line">	[Display(Name &#x3D; &quot;Password&quot;)]</span><br><span class="line">	public string Password &#123; get; set; &#125;</span><br><span class="line"></span><br><span class="line">	[Display(Name &#x3D; &quot;Remember me?&quot;)]</span><br><span class="line">	public bool RememberMe &#123; get; set; &#125;</span><br><span class="line"></span><br><span class="line">	public IEnumerable&lt;ValidationResult&gt; Validate(ValidationContext validationContext)</span><br><span class="line">	&#123;</span><br><span class="line">		return null;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Create HomeController.cs</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">public class HomeController : Controller</span><br><span class="line">&#123;</span><br><span class="line">	[AllowAnonymous]</span><br><span class="line">	public ActionResult Login(string ReturnUrl)</span><br><span class="line">	&#123;</span><br><span class="line">		&#x2F;&#x2F;ReturnUrl: url that is before user login</span><br><span class="line">		var vm &#x3D; new LoginViewModel() &#123; ReturnUrl &#x3D; ReturnUrl &#125;;</span><br><span class="line">		return View(vm);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	[AllowAnonymous]</span><br><span class="line">	[HttpPost]</span><br><span class="line">	public ActionResult Login(LoginViewModel model)</span><br><span class="line">	&#123;</span><br><span class="line">		&#x2F;&#x2F;</span><br><span class="line">		if( !ModelState.IsValid )</span><br><span class="line">		&#123;</span><br><span class="line">			return View(model);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;todo check login account and password</span><br><span class="line">		if (false)</span><br><span class="line">		&#123;</span><br><span class="line">             ...</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		FormsAuthentication.RedirectFromLoginPage(model.UserName, false);</span><br><span class="line">		return Redirect(FormsAuthentication.GetRedirectUrl(model.UserName, false));</span><br><span class="line">	&#125;</span><br><span class="line">	[AllowAnonymous]</span><br><span class="line">       public ActionResult Logout()</span><br><span class="line">       &#123;</span><br><span class="line">           Session.Abandon();</span><br><span class="line">           FormsAuthentication.SignOut();</span><br><span class="line">           return RedirectToAction(&quot;Login&quot;, &quot;Home&quot;);</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>

<p>In Home/Login.cshtml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@using (Html.BeginForm(&quot;Login&quot;, &quot;Home&quot;, new &#123; ReturnUrl&#x3D;Model.ReturnUrl &#125;, FormMethod.Post, new &#123; autocomplete&#x3D;&quot;off&quot; &#125;))</span><br><span class="line">&#123;</span><br><span class="line">  @Html.TextBoxFor(m &#x3D;&gt; m.UserName)</span><br><span class="line">  @Html.ValidationMessageFor(m &#x3D;&gt; m.UserName)</span><br><span class="line">  &lt;br &#x2F;&gt;</span><br><span class="line">  @Html.PasswordFor(m &#x3D;&gt; m.Password)</span><br><span class="line">  @Html.ValidationMessageFor(m &#x3D;&gt; m.Password)</span><br><span class="line">  &lt;br &#x2F;&gt;</span><br><span class="line">  &lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;Login&quot; &#x2F;&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://mr-brain.github.io/2014/05/01/2014/05/a-mixedmode-assembly-exception-message-been-showed/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/mr-brain.png">
      <meta itemprop="name" content="Mr-Brain">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Elegance C#">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/05/01/2014/05/a-mixedmode-assembly-exception-message-been-showed/" class="post-title-link" itemprop="url">A “mixed-mode assembly exception” Message been showed.</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-05-01 08:00:00" itemprop="dateCreated datePublished" datetime="2014-05-01T08:00:00+08:00">2014-05-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-05 18:03:45" itemprop="dateModified" datetime="2020-09-05T18:03:45+08:00">2020-09-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>To run .NET 2.0 assembly in .NET 4.0 environment, a “mixed-mode assembly exception” Message been showed.</p>
<p>Add a configuration in the app.config: startup</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;startup useLegacyV2RuntimeActivationPolicy&#x3D;”true”&gt;</span><br><span class="line">  &lt;supportedRuntime version&#x3D;”v4.0”&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;startup&gt;</span><br></pre></td></tr></table></figure>

<p>reference from MSDN, specifically address: <a target="_blank" rel="noopener" href="http://msdn.microsoft.com/zh-cn/library/bbx34a2h.aspx">http://msdn.microsoft.com/zh-cn/library/bbx34a2h.aspx</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://mr-brain.github.io/2014/05/01/2014/05/cannot-see-cs-files-after-last-rename-vsnet-2013-projects/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/mr-brain.png">
      <meta itemprop="name" content="Mr-Brain">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Elegance C#">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/05/01/2014/05/cannot-see-cs-files-after-last-rename-vsnet-2013-projects/" class="post-title-link" itemprop="url">Cannot see cs files after last rename VS.NET 2013 Projects</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-05-01 08:00:00" itemprop="dateCreated datePublished" datetime="2014-05-01T08:00:00+08:00">2014-05-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-05 18:04:09" itemprop="dateModified" datetime="2020-09-05T18:04:09+08:00">2020-09-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>After I rename VS.NET 2013 Project Name, I had this <strong>“The ‘Microsoft.VisualStudio.Editor.Implementation.EditorPackage’ package did not load correctly.”</strong> error message when I started up Visual Studio 2013.</p>
<p><img src="https://dl.dropboxusercontent.com/u/13003046/images/VS2013-ActivityLog-xml-Exception.png" alt="img"></p>
<p>This is telling me to open ActivityLog.xml, and hopefully an answer will be found. So I opened up that file and found some error entries:</p>
<blockquote>
<p>No EditorOptionDefinition export found for the given option name: Graphics/Simple/Enable<br>Parameter name: optionId</p>
</blockquote>
<p>For Visual Studio 2013, it’s located in the</p>
<blockquote>
<p>%LOCALAPPDATA%\Microsoft\VisualStudio\12.0 folder.<br>For Visual Studio 2012, it’s 11.0 folder.</p>
</blockquote>
<p>I renamed <strong>ComponentModelCache</strong> to <strong>ComponentModelCache.Borked</strong> and restarted Visual Studio. It started right up and without any errors.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://mr-brain.github.io/2014/05/01/2014/05/cant-save-your-table-changes-in-sql2008-management-studio/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/mr-brain.png">
      <meta itemprop="name" content="Mr-Brain">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Elegance C#">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/05/01/2014/05/cant-save-your-table-changes-in-sql2008-management-studio/" class="post-title-link" itemprop="url">Can’t save your table changes in SQL2008 Management Studio</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-05-01 08:00:00" itemprop="dateCreated datePublished" datetime="2014-05-01T08:00:00+08:00">2014-05-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-05 18:04:43" itemprop="dateModified" datetime="2020-09-05T18:04:43+08:00">2020-09-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Can’t save your table changes in SQL2008 Management Studio ?</p>
<p>In SQL Server 2008, when you do some changes on a table and save it you’ll get a warning message like below</p>
<pre><code>Saving changes is not permitted. The changes you have made require the following tables to be dropped and re-created. You have either made changes to a table that can’t be re-created or enabled the option Prevent saving changes that require the table to be re-created.</code></pre>
<p>What the… that didn’t happen to me in SQL Server 2005 nor previous versions of SQL Server. So there is definitely a behaviour change in the new management studio. Luckily this behaviour can be disabled. You just need to go to Tools -&gt; Options then go to the Designer Page and uncheck “Prevent saving changes that require table re-creation”.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://mr-brain.github.io/2014/05/01/2014/05/remove-the-last-character-in-a-string-in-tsql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/mr-brain.png">
      <meta itemprop="name" content="Mr-Brain">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Elegance C#">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/05/01/2014/05/remove-the-last-character-in-a-string-in-tsql/" class="post-title-link" itemprop="url">Remove the last character in a string in T-SQL?</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-05-01 08:00:00" itemprop="dateCreated datePublished" datetime="2014-05-01T08:00:00+08:00">2014-05-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-05 18:06:44" itemprop="dateModified" datetime="2020-09-05T18:06:44+08:00">2020-09-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>How do I remove the last character in a string in T-SQL?</p>
<p>I.E.</p>
<blockquote>
<p>‘TEST STRING’</p>
</blockquote>
<p>to return:</p>
<blockquote>
<p>‘TEST STRIN’</p>
</blockquote>
<p>Sample code:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DECLARE @String VARCHAR(100)</span><br><span class="line">SET @String &#x3D; &#39;TEST STRING&#39;</span><br><span class="line"></span><br><span class="line">-- Chop off the end character</span><br><span class="line">SET @String &#x3D; LEFT(@String, LEN(@String) - 1)</span><br><span class="line"></span><br><span class="line">SELECT @String</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Mr-Brain"
      src="/images/mr-brain.png">
  <p class="site-author-name" itemprop="name">Mr-Brain</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">94</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">30</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://www.nuget.org/packages/T1.Standard/" title="Nuget T1.Standard → https:&#x2F;&#x2F;www.nuget.org&#x2F;packages&#x2F;T1.Standard&#x2F;" rel="noopener" target="_blank"><i class="fab fa-nuget fa-fw"></i>Nuget T1.Standard</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mr-Brain</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
